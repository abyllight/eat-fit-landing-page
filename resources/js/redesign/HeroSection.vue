<template>
    <div class="w-full relative overflow-hidden h-99 flex items-center">
        <div>
            <div class="slidex absolute inset-0 translate-x-0 transition-all ease-in-out duration-1000 transform">
                <div class="bg-hero-sm md:bg-hero-lg bg-cover bg-center relative h-99 w-full">
                    <div class="max-w-6xl mx-auto px-8 md:px-4 relative z-20 flex flex-col justify-center">
                        <div class="py-32 lg:pb-40">
                            <div class="md:w-1/2 text-white mb-12">
                                <h1 class="font-bold text-3xl lg:text-4xl leading-tight mb-5">
                                    Станьте стройным и продуктивным c 5-разовым
                                    <span class="text-brand-green">здоровым питанием</span>
                                </h1>
                                <p class="text-base">
                                    Мы закупим отборные продукты, составим сбалансированное меню, приготовим и доставим к Вашему столу
                                </p>
                            </div>

                            <div
                                class="flex items-center text-xs font-semibold uppercase">
                                <a href="#trial"
                                   class="px-10 py-3 md:py-4 rounded-lg shadow tracking-wider outline-none focus:outline-none bg-gradient-to-b from-gr-yellow-start to-gr-yellow-end hover:from-brand-yellow-hover">
                                    Попробовать
                                </a>
                                <p class="ml-4 text-white">
                                    со скидкой 40%
                                </p>
                            </div>
                        </div>
                        <div class="mb-1 flex lg:absolute bottom-0 mb-8 text-white text-xs">
                            <div class="flex flex-col md:flex-row justify-end md:items-center md:justify-start w-56">
                                <img src="/img/icons/time.png" alt="Методы приготовления" class="mr-3 mb-4 md:mb-0 w-10 h-auto">
                                <p class="md:mb-1">
                                    Сэкономим <br> ваше время
                                </p>
                            </div>
                            <div class="flex flex-col md:flex-row justify-end md:items-center md:justify-start w-56">
                                <img src="/img/icons/tech.png" alt="24 стран" class="mr-3 mb-4 md:mb-0 w-10 h-auto">
                                <p class="md:mb-1">
                                    Приведем <br> в форму
                                </p>
                            </div>

                            <div class="flex flex-col md:flex-row justify-end md:items-center md:justify-start">
                                <img src="/img/icons/health.png" alt="24 стран" class="mr-3 mb-4 md:mb-0 w-10 h-auto">
                                <p class="text-xs md:mb-1">
                                    Улучшим <br> здоровье
                                </p>
                            </div>
                        </div>
                    </div>

                    <div class="w-full h-full absolute top-0 bg-black z-0 opacity-25"></div>
                </div>
            </div>

            <div class="slidex absolute inset-0 translate-x-full transition-all ease-in-out duration-1000 transform">
                <div class="bg-slide4sm md:bg-slide4 bg-cover bg-center relative h-99 w-full">
                    <div class="max-w-6xl mx-auto px-8 md:px-4 relative z-20 flex flex-col justify-center">
                        <div class="py-32 lg:pb-40 xl:pb-56">
                            <div class="md:w-1/2 text-white mb-12">
                                <h1 class="font-bold text-3xl lg:text-4xl leading-tight mb-5">
                                    Подготовьтесь к отпуску<br class="hidden lg:block"/>
                                    <span class="text-brand-green">за 15 дней</span> с EAT&FIT
                                </h1>
                                <p class="text-xl mb-4">3 дня детокса + 9 питания + 3 дня детокса</p>
                                <p class="text-base">
                                    Специальная программа для парней и девушек,
                                    которые хотят быстро подготовить свое тело к сезону отдыха
                                </p>
                            </div>

                            <div
                                class="flex items-center text-xs font-semibold uppercase">
                                <a href="#trial"
                                   class="px-10 py-3 md:py-4 rounded-lg shadow tracking-wider outline-none focus:outline-none bg-gradient-to-b from-gr-yellow-start to-gr-yellow-end hover:from-brand-yellow-hover">
                                    Получить консультацию
                                </a>
                            </div>
                        </div>
                    </div>

                    <div class="w-full h-full absolute top-0 bg-black z-0 opacity-25"></div>
                </div>
            </div>

            <div class="slidex absolute inset-0 translate-x-full transition-all ease-in-out duration-1000 transform">
                <div class="bg-slide3sm md:bg-slide3 bg-cover bg-center relative h-99 w-full">
                    <div class="max-w-6xl mx-auto px-8 md:px-4 relative z-20 flex flex-col justify-center">
                        <div class="py-32 lg:pb-40 xl:pb-56">
                            <div class="md:w-2/3 text-white mb-12">
                                <h1 class="font-bold text-3xl lg:text-4xl leading-tight mb-5">
                                    Успейте заказать
                                    <br/>
                                    <span class="text-brand-green">детокс - программу</span> от EAT&FIT
                                    <br class="hidden lg:block"/>
                                    на <span class="text-brand-green">3 дня</span> за
                                </h1>
                                <p class="text-xl">
                                    18 000 ₸ вместо 21 000 ₸
                                </p>
                            </div>

                            <div
                                class="flex items-center text-xs font-semibold uppercase">
                                <a href="/detox"
                                   class="px-10 py-3 md:py-4 rounded-lg shadow tracking-wider outline-none focus:outline-none bg-gradient-to-b from-gr-yellow-start to-gr-yellow-end hover:from-brand-yellow-hover">
                                    заказать
                                </a>
                            </div>
                        </div>
                    </div>

                    <div class="w-full h-full absolute top-0 bg-black z-0 opacity-25"></div>
                </div>
            </div>

            <div class="slidex absolute inset-0 translate-x-full transition-all ease-in-out duration-1000 transform">
                <div class="bg-slide2sm md:bg-slide2 bg-cover bg-center relative h-99 w-full">
                    <div class="max-w-6xl mx-auto px-8 md:px-4 relative z-20 flex flex-col justify-center">
                        <div class="py-32 lg:pb-40 xl:pb-56">
                            <div class="md:w-1/2 text-white mb-12">
                                <h1 class="font-bold text-3xl lg:text-4xl leading-tight mb-5">
                                    3-х разовое питание EAT&FIT на целый день за
                                    <span class="text-brand-green">5000 ₸/день</span>
                                </h1>
                                <p class="text-base">
                                    Попробуйте  рацион Daily
                                    с 24 разными кухнями мира в течении месяца
                                </p>
                            </div>

                            <div
                                class="flex items-center text-xs font-semibold uppercase">
                                <a href="#trial"
                                   class="px-10 py-3 md:py-4 rounded-lg shadow tracking-wider outline-none focus:outline-none bg-gradient-to-b from-gr-yellow-start to-gr-yellow-end hover:from-brand-yellow-hover">
                                    связаться с менеджером
                                </a>
                            </div>
                        </div>
                    </div>

                    <div class="w-full h-full absolute top-0 bg-black z-0 opacity-25"></div>
                </div>
            </div>

            <div class="slidex absolute inset-0 translate-x-full transition-all ease-in-out duration-1000 transform">
                <div class="bg-slide1sm md:bg-slide5 bg-cover bg-center relative h-99 w-full">
                    <div class="max-w-6xl mx-auto px-8 md:px-4 relative z-20 flex flex-col justify-center">
                        <div class="py-32 lg:pb-40 xl:pb-56">
                            <div class="md:w-1/2 text-white mb-12">
                                <h1 class="font-bold text-3xl lg:text-4xl leading-tight mb-5">
                                    А вы уже пробовали наши <span class="text-brand-yellow">круассаны</span> от EAT&FIT?
                                </h1>
                                <p class="text-base">
                                    Заказать многие другие блюда по выбору
                                    можно прямо на нашем сайте в продукции EatFitGo
                                </p>
                            </div>

                            <div
                                class="flex items-center text-xs font-semibold uppercase">
                                <a href="/go"
                                   class="px-10 py-3 md:py-4 rounded-lg shadow tracking-wider outline-none focus:outline-none bg-gradient-to-b from-gr-yellow-start to-gr-yellow-end hover:from-brand-yellow-hover">
                                    заказать
                                </a>
                            </div>
                        </div>
                    </div>

                    <div class="w-full h-full absolute top-0 bg-black z-0 opacity-30"></div>
                </div>
            </div>
        </div>

        <div
            class="flex justify-center items-center cursor-pointer absolute -left-4 md:left-0"
            @click="prev"
        >
            <img src="/img/slide/left.svg" class="w-16"/>
        </div>
        <div
            class="flex justify-center items-center cursor-pointer absolute -right-4 md:right-0"
            @click="next"
        >
            <img src="/img/slide/right.svg" class="w-16"/>
        </div>
    </div>
</template>

<script>
export default{
    name: "HeroSection",
    data: () => ({
        timer: null,
        slides: [
            {
                image: 'hero-lg'
            },
            {
                image: 'slide2'
            },
            {
                image: 'slide3'
            },
            {
                image: 'slide4'
            }
        ]
    }),
    mounted() {
        this.autoPlay()
    },
    beforeDestroy() {
        clearInterval(this.timer)
    },
    methods: {
        autoPlay() {
            this.timer = setInterval(() => {
                this.next()
            },6500)
        },
        prev() {
            let active = document.querySelector('.slidex.translate-x-0')
            if (active) {
                clearInterval(this.timer)

                let prev = active.previousElementSibling;
                active.classList.remove('translate-x-0')
                active.classList.add('translate-x-full')
                if (prev){
                    prev.classList.remove('-translate-x-full')
                    prev.classList.add('translate-x-0')
                }else {
                    let slides = document.getElementsByClassName('slidex')
                    for (let i = 0; i < slides.length - 1; i++) {
                        slides[i].classList.remove('translate-x-full')
                        slides[i].classList.add('-translate-x-full')
                    }
                    slides[slides.length - 1].classList.remove('translate-x-full')
                    slides[slides.length - 1].classList.add('translate-x-0')
                }

                this.autoPlay()
            }
        },
        next() {
            let active = document.querySelector('.slidex.translate-x-0')
            if (active) {
                clearInterval(this.timer)

                let next = active.nextElementSibling;
                active.classList.remove('translate-x-0')
                active.classList.add('-translate-x-full')
                if (next){
                    next.classList.remove('translate-x-full')
                    next.classList.add('translate-x-0')
                }else {
                    let slides = document.getElementsByClassName('slidex')
                    for (let i = 1; i < slides.length; i++) {
                        slides[i].classList.remove('-translate-x-full')
                        slides[i].classList.add('translate-x-full')
                    }
                    slides[0].classList.remove('-translate-x-full')
                    slides[0].classList.add('translate-x-0')
                }

                this.autoPlay()
            }
        }
    }
}
</script>
